<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="pricing.css" type="text/css">
    <link rel="stylesheet" href="main.css" type="text/css" />
    <link rel="icon" href="img/csbjjlogo.webp" type="image/x-icon" />
    <link rel="stylesheet" href="header-navbar.css" type="text/css"/>
     <meta name="author" content="Michael Swanson" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta
      name="Pricing page"
      content="This is the pricing page for csbjj"
    />
    <title>Prices | Colorado Springs BJJ</title>
  </head>
  <body>
    <div id="header-navbar"></div>
    <section class="pricing-section">
      <h2>Most Affordable Prices in Town!</h2>
       <div class="section-header">
            <p class="section-subtitle">Join our community of warriors and transform your life through martial arts. Choose the program that fits your goals and start your journey today.</p>
        </div>

        <!-- Table of Contents -->
        <div class="offerings-toc">
            <h3 class="toc-title"> What We Offer</h3>
            <div class="toc-grid">
                <div class="toc-item">
                    <div class="toc-icon">🥋</div>
                    <div class="toc-label">Kids BJJ<br>(Ages 4-12)</div>
                </div>
                <div class="toc-item">
                    <div class="toc-icon">🥋</div>
                    <div class="toc-label">Adult BJJ<br>(All Levels)</div>
                </div>
                <div class="toc-item">
                    <div class="toc-icon">👊</div>
                    <div class="toc-label">Kickboxing<br>(High Energy)</div>
                </div>
                <div class="toc-item">
                    <div class="toc-icon">💪</div>
                    <div class="toc-label">Women's BJJ<br>(Empowering)</div>
                </div>
                <div class="toc-item">
                    <div class="toc-icon">🎖️</div>
                    <div class="toc-label">Military & First Responders</div>
                </div>
                <div class="toc-item">
                    <div class="toc-icon">💑</div>
                    <div class="toc-label">Couples<br>(Train Together)</div>
                </div>
            </div>
        </div>
      <div id="pricing-section"></div>
      
    </section>
    <div id="footer"></div>

   <!-- Include the carousel JavaScript class -->
    <script src="pricing.js" defer></script> 
    <!-- Include the navbar JavaScript -->
    <script src="navbar.js"></script>
   <script>
  let pricingCarousel = null;

  async function initializePage() {
    try {
      // Load header
      await HTMLLoader.loadComponent("header-navbar", "header-navbar.html");
      initializeNavbar();

      // Load pricing HTML
      await HTMLLoader.loadComponent("pricing-section", "pricing-section.html");

      // Check size and set up carousel or stacked view
      handleCarousel();

      // Re-check on resize
      window.addEventListener("resize", handleCarousel);

      // Load footer
      await HTMLLoader.loadComponent("footer", "footer.html");
    } catch (error) {
      console.error("Error initializing page:", error);
    }
  }

  function handleCarousel() {
    const isDesktop = window.innerWidth > 1100;

    if (isDesktop && !pricingCarousel) {
      // Initialize carousel
      pricingCarousel = new PricingCarousel("pricingCarousel", {
        cardsPerView: 3,
        enableTouch: true,
        enableDots: true,
        enableArrows: true,
        autoSlide: false,
      });
      console.log("Carousel enabled for desktop");
    } else if (!isDesktop && pricingCarousel) {
      // Destroy carousel and reset cards
      pricingCarousel.destroy();
      pricingCarousel = null;

      const carousel = document.getElementById("pricingCarousel");
      if (carousel) {
        // Put all cards back into DOM in order
        const allCards = document.querySelectorAll(".pricing-card");
        allCards.forEach(card => carousel.appendChild(card));
      }

      console.log("Carousel disabled for mobile, showing all cards");
    }
  }
  document.addEventListener("DOMContentLoaded", initializePage);
</script>
  </body>
</html>
